function mask(t){t=String(t).split("");for(var e=t.length,n=3;n<e;n+=3)t.splice(e-n,0," ");return t.join("")}!function(){function numbers(t){("0"==result.value||operationClicked||calcDone)&&(result.value=""),"0"==sum.textContent&&(sum.textContent=""),operand1+=t.value,result.value+=t.value,toEval+=t.value,operationClicked=!1,sum.textContent+=t.value,calcDone=!1,"00"==sum.textContent&&(sum.textContent="0")}function operations(t){(operand1||operand2)&&(operationClicked?(toEval=toEval.substring(0,toEval.length-1),sum.textContent=sum.textContent.substring(0,sum.textContent.length-1),result.value=result.value.substring(0,result.value.length-1)):(operand2=operand1,operand1=""),toEval+=t.value,result.value=t.value,operationClicked=!0,sum.textContent+=t.value,calcDone=!1)}function score(){if(!calcDone&&toEval){for(var i=0;i<basicOperations.length;i++)toEval.charAt(toEval.length-1)==basicOperations[i].value&&(toEval=toEval.substring(0,toEval.length-1));result.value=eval(toEval),sum.textContent="",operand1="",operand2="",toEval="",operationClicked=!1,calcDone=!0}}function clear(){operand1="",operand2="",toEval="",operationClicked=!1,result.value="0",sum.textContent=""}function deleteOneDigit(){calcDone||(0!=result.value.length&&"0"!=result.value&&(toEval=toEval.substring(0,toEval.length-1),result.value=result.value.substring(0,result.value.length-1),sum.textContent=sum.textContent.substring(0,sum.textContent.length-1),operand1=operand1.substring(0,operand1.length-1)),0==result.value.length&&(result.value="0"))}function deleteLastNumber(){if(operand1||operand2){var t=operand1.length;toEval=toEval.substring(0,toEval.length-t),result.value="0",sum.textContent=sum.textContent.substring(0,sum.textContent.length-t),operand1=""}}function oneNumberOperations(t){if(operand1)for(var e in Operations)if(t.value==Operations[e].type){var n=operand1.length;operand1=Operations[e].operation(operand1),operand1=operand1.toString(),toEval=toEval.substring(0,toEval.length-n),toEval+=operand1,result.value=operand1,sum.textContent=sum.textContent.substring(0,sum.textContent.length-n),sum.textContent+=operand1}}function classForAWhile(t,e,n){t.classList.add(e),setTimeout(function(){t.classList.remove(e)},n)}for(var operand1="",operand2="",toEval="",operationClicked=!1,button=document.getElementsByTagName("button"),result=document.getElementById("result"),sum=document.getElementById("sum"),calcDone=!1,basicOperations=document.getElementsByClassName("operations"),i=0;i<button.length;i++)button[i].addEventListener("click",function(t){this.classList.contains("numbers")?numbers(t.target):this.classList.contains("operations")?operations(t.target):this.classList.contains("score")?score(t.target):this.classList.contains("clear")?clear():this.classList.contains("deleteOneDigit")?deleteOneDigit():this.classList.contains("deleteLastNumber")?deleteLastNumber():this.classList.contains("oneNumberOperations")&&oneNumberOperations(t.target),classForAWhile(t.target,"active",300)})}();