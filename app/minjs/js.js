!function(){function classForAWhile(t,e,n){t.classList.add(e),setTimeout(function(){t.classList.remove(e)},n)}for(var operand1="",operand2="",toEval="",operationClicked=!1,button=document.getElementsByTagName("button"),result=document.getElementById("result"),sum=document.getElementById("sum"),calcDone=!1,basicOperations=document.getElementsByClassName("operations"),wynik,TypeOfButton={numbers:{type:"numbers",action:function(t){operand1.indexOf(".")>-1&&"."==t.value||"0"==operand1&&"0"==t.value||(("0"==result.value&&"."!=t.value||operationClicked||calcDone)&&(result.value=""),"0"==sum.textContent.charAt(sum.textContent.length-1)&&"."!=t.value&&(sum.textContent=sum.textContent.substring(0,sum.textContent.length-1)),calcDone?(operand1=t.value,result.value=t.value,toEval=t.value,sum.textContent=t.value):(operand1+=t.value,toEval+=t.value,result.value+=t.value,sum.textContent+=t.value),operationClicked=!1,calcDone=!1,"00"==sum.textContent&&(sum.textContent="0"))}},operations:{type:"operations",action:function(e){if(operand1||operand2){for(operationClicked||isNaN(toEval.charAt(toEval.length-1))?(toEval=toEval.substring(0,toEval.length-1),sum.textContent=sum.textContent.substring(0,sum.textContent.length-1),result.value=result.value.substring(0,result.value.length-1)):(operand2=operand1,operand1=""),wynik=eval(toEval),wynik=wynik.toFixed(4),wynik=wynik.toString();"0"==wynik.charAt(wynik.length-1);)wynik=wynik.substring(0,wynik.length-1);"."==wynik.charAt(wynik.length-1)&&(wynik=wynik.substring(0,wynik.length-1)),result.value=wynik,calcDone?sum.textContent=toEval+e.value:sum.textContent+=e.value,toEval+=e.value,operationClicked=!0,calcDone=!1}}},score:{type:"score",action:function(){if(!calcDone&&toEval){for(var i=0;i<basicOperations.length;i++)toEval.charAt(toEval.length-1)==basicOperations[i].value&&(toEval=toEval.substring(0,toEval.length-1));for(wynik=eval(toEval),wynik=wynik.toFixed(4),wynik=wynik.toString();"0"==wynik.charAt(wynik.length-1);)wynik=wynik.substring(0,wynik.length-1);"."==wynik.charAt(wynik.length-1)&&(wynik=wynik.substring(0,wynik.length-1)),result.value=wynik,sum.textContent="",operand1=wynik,operand2="",toEval=wynik,operationClicked=!1,calcDone=!0}}},clear:{type:"clear",action:function(){operand1="",operand2="",toEval="",operationClicked=!1,result.value="0",sum.textContent=""}},deleteOneDigit:{type:"deleteOneDigit",action:function(){calcDone||isNaN(toEval.charAt(toEval.length-1))&&"."!=toEval.charAt(toEval.length=1)||(toEval=toEval.substring(0,toEval.length-1),result.value=result.value.substring(0,result.value.length-1),sum.textContent=sum.textContent.substring(0,sum.textContent.length-1),operand1=operand1.substring(0,operand1.length-1))}},deleteLastNumber:{type:"deleteLastNumber",action:function(){if(operand1||operand2){var t=operand1.length;toEval=toEval.substring(0,toEval.length-t),result.value="0",sum.textContent=sum.textContent.substring(0,sum.textContent.length-t),operand1=""}calcDone&&TypeOfButton.clear.action()}},oneNumberOperations:{type:"oneNumberOperations",action:function(t){if(operand1)for(var e in Operations)if(t.value==Operations[e].type){var n=operand1.length;operand1=Operations[e].operation(operand1),operand1=operand1.toString(),toEval=toEval.substring(0,toEval.length-n),toEval+=operand1,result.value=operand1,sum.textContent=sum.textContent.substring(0,sum.textContent.length-n),sum.textContent+=operand1}}}},i=0;i<button.length;i++)button[i].addEventListener("click",function(t){for(var e in TypeOfButton)this.classList.contains(TypeOfButton[e].type)&&TypeOfButton[e].action(t.target);classForAWhile(t.target,"active",300),console.log(operand1),console.log(toEval)},!1)}();